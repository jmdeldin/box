---
- name: Prefer IPv4 instead of IPv6 (fixes hanging while connecting to ubuntu servers)
  copy: src=../templates/etc/apt/apt.conf.d/99force-ipv4
        dest=/etc/apt/apt.conf.d/99force-ipv4
  become: True
  tags: [net, packages]

- name: remove garbage packages
  apt: name={{item}} state=absent purge=yes
  become: True
  tags: [packages]
  with_items:
    - at-spi2-core
    - brltty # not sure how these packages end up on ubuntu 17.10
    - cheese
    - deja-dup
    - empathy
    - exim4
    - exim4-base
    - exim4-config
    - gnome-keyring
    - gnome-mahjongg
    - gnome-mines
    - lxc
    - lxd
    - pinentry-gnome3
    - rhythmbox
    - shotwell
    - snapd
    - thunderbird
    - totem
    - unity-lens-shopping
    - unity-webapps
    - xbrlapi

- name: install basic system packages
  become: True
  apt: name={{item}} state=installed
  with_items:
    - git
    - htop
    - rsync
